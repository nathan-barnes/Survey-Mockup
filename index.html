<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>zea-surveying-machine</title>

    <link
      href="https://cdn.glitch.com/902123f3-ae96-4804-b014-ff54744cf91a%2Ffavicon-32x32.png?v=1600383997259"
      rel="shortcut icon"
    />
    <link href="styles/main.css" rel="stylesheet" />

    <!-- {{{ Zea's libs. -->
    
    <script src="https://websocket-staging.zea.live/socket.io/socket.io.js"></script>
    <script
      crossorigin
      src="https://cdn.jsdelivr.net/npm/@zeainc/zea-engine@2/dist/index.umd.js"
    ></script>
    <script
      crossorigin
      src="https://cdn.jsdelivr.net/npm/@zeainc/zea-ux@2/dist/index.umd.js"
    ></script>
    <script crossorigin src="https://unpkg.com/@zeainc/zea-cad@2"></script>
    <script
      crossorigin
      src="https://cdn.jsdelivr.net/npm/@zeainc/zea-collab@4/dist/index.umd.js"
    ></script>
    <script
      crossorigin
      src="https://cdn.jsdelivr.net/npm/@zeainc/zea-web-components@1.0.2/dist/zeainc-zea-web-components/zeainc-zea-web-components.esm.js"
      type="module"
    ></script>
    <!-- }}} -->

    <script src="https://cdn.jsdelivr.net/npm/superagent"></script>
    <script src="https://cdn.jsdelivr.net/npm/faunadb/dist/faunadb-min.js"></script>

    <script src="scripts/main.js" type="module"></script>
  </head>
  <body>
    <!--     <div id="renderer"></div> -->

    <zea-layout
      orientation="vertical"
      cell-a-size="50"
      resize-cell-a="false"
      cell-b-size="100%"
      cell-c-size="50px"
      resize-cell-c="false"
    >
      <div slot="a" class="App-header">
        <img
          alt="ZEA logo"
          class="App-logo"
          src="https://cdn.glitch.com/902123f3-ae96-4804-b014-ff54744cf91a%2Flogo-zea.svg?v=1600384733817"
        />
        <div class="MenuHolder">
          <zea-menu type="dropdown" show-anchor="true">
            <zea-menu-item>
              Anchor Selection
              <zea-menu-subitems>
                <zea-menu-item class="MenuItem" callback="{useMeasurementTool}" id="anchor" >MBU</zea-menu-item>
              </zea-menu-subitems>
              </zea-menu-item>
          </zea-menu>
        </div>
        
        
        

        
        
      </div>
      
      <zea-layout
        slot="b"
        cell-a-size="200px"
        cell-b-size="100%"
        cell-c-size="0px"
        resize-cell-c="false"
      >
        <div slot="a" class="tree-view-container">
          <zea-tree-view id="zea-tree-view"></zea-tree-view>
        </div>
        <div slot="b" id="renderer"></div>
      </zea-layout>
      
      <zea-layout
        slot="c"
        cell-a-size="0px"
        cell-b-size="100%"
        cell-c-size="0px"
      >
          <div slot="b"  class="UserChipSetHolder">
            <zea-user-chip-set id="zea-user-chip-set"></zea-user-chip-set>
          </div>
          <zea-user-chip id="zea-user-chip"></zea-user-chip>
          
        <div slot="b" id="chip"></div>
      </zea-layout>
      
    </zea-layout>
  </body>
</html>

<script>

  const toolbar = document.createElement('zea-toolbar')
  
  toolbar.tools = {
      cameraManipulator: {
        tag: 'zea-toolbar-tool',
        data: {
          iconName: 'camera-outline',
          toolName: 'Camera Manipulator',
          callback:  () => useCameraManipulator(),
        },
      }
    
    
    const useCameraManipulator = () => {
    renderer.getViewport().setManipulator(cameraManipulator)

    freeHandLineTool.deactivateTool()
    canvas.style.cursor = 'auto'
  }
</script>
